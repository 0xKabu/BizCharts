<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>BizCharts</title>
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/png" href="//img.alicdn.com/tfs/TB1ah_IRXXXXXbsXXXXXXXXXXXX-180-179.png_32x32" sizes="32x32">
  <link rel="stylesheet" href="./lib/next.min.css">
  <link rel="stylesheet" href="//at.alicdn.com/t/font_484351_p3j9kkl64zn0zfr.css">
  <link rel="stylesheet" href="./pages/index/index.bundle.css">
</head>
<body>
  <div id="container"><div class="c-loading">页面加载中...</div></div>
  <script src="./lib/polyfill.js"></script>  
  <script src="./lib/react-with-addons.js"></script>
  <script src="./lib/react-dom.js"></script>
  <script src="./lib/next.min.js"></script>
  <script src="https://cdn.bootcss.com/babel-core/5.8.38/browser.min.js"></script>
  <script src="//g.alicdn.com/bizcharts/io-asserts/3.1.5/BizCharts.min.js"></script>
  <script type="text/javascript" src="https://gw.alipayobjects.com/os/antv/assets/data-set/0.8.6/data-set.min.js"></script>
  <script type="text/javascript" src="./vendor.js"></script>
  <script type="text/javascript" src="./pages/index/index.js"></script>
  <script type="text/babel">
    const { Chart, Axis, Geom, Tooltip, Legend } = window.BizCharts;
    const data = [
      { name:'London', 'Jan.': 18.9, 'Feb.': 28.8, 'Mar.' :39.3, 'Apr.': 81.4, 'May': 47, 'Jun.': 20.3, 'Jul.': 24, 'Aug.': 35.6 },
      { name:'Berlin', 'Jan.': 12.4, 'Feb.': 23.2, 'Mar.' :34.5, 'Apr.': 99.7, 'May': 52.6, 'Jun.': 35.5, 'Jul.': 37.4, 'Aug.': 42.4}
    ];
    const ds = new DataSet();
    const dv = ds.createView().source(data);
    dv.transform({
      type: 'fold',
      fields: [ 'Jan.','Feb.','Mar.','Apr.','May','Jun.','Jul.','Aug.' ], // 展开字段集
      key: '月份', // key字段
      value: '月均降雨量', // value字段
    });
    ReactDOM.render((
      <Chart height={400} data={dv} forceFit>
        <Axis name="月份" />
        <Axis name="月均降雨量" />
        <Legend />
        <Tooltip crosshairs={{type : "y"}}/>
        <Geom type='interval' position="月份*月均降雨量" color={'name'} adjust={[{type: 'dodge',marginRatio: 1/32}]} />
      </Chart>
    ), document.getElementById("mountNode"));
</script>
</body>
</html>
